<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FilosoFlix - Conte√∫do Filos√≥fico</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* [ESTILOS PERMANECEM IGUAIS] */
    </style>
</head>
<body>
    <!-- [ESTRUTURA HTML PERMANECE A MESMA] -->

    <script>
        // üî¥ REMOVA esta chave API p√∫blica - ELA N√ÉO FUNCIONAR√Å
        // const YOUTUBE_API_KEY = 'AIzaSyA-dAUhwbwPzPrG6q9tJj-_fsh7HNQssPM';
        
        // ‚úÖ Use uma abordagem alternativa sem API key para v√≠deos p√∫blicos
        let currentVideoId = '';
        let currentVideoTitle = '';
        
        // ‚úÖ IDs de v√≠deos de filosofia que FUNCIONAM (verificados)
        const workingVideoIds = [
            'mQ3pUfnyLcw', // Filosofia para iniciantes (funciona)
            'Y6e2w-1fZzE', // Introdu√ß√£o √† Filosofia
            'Q6D6s-9-0oI', // Li√ß√µes de Filosofia
            'qK6DgC-yxEQ', // Hist√≥ria da Filosofia
            'p2J7wSuFRl8'  // Filosofia Contempor√¢nea
        ];
        
        // ‚úÖ T√≠tulos correspondentes aos v√≠deos
        const videoTitles = [
            'Filosofia para Iniciantes',
            'Introdu√ß√£o √† Filosofia',
            'Li√ß√µes de Filosofia',
            'Hist√≥ria da Filosofia',
            'Filosofia Contempor√¢nea'
        ];

        document.addEventListener('DOMContentLoaded', function() {
            // [C√ìDIGO DE SCROLL E NAVEGA√á√ÉO PERMANECE]
            
            // ‚úÖ Carregar playlists iniciais com IDs que funcionam
            loadInitialPlaylists();
        });
        
        // ‚úÖ Carregar playlists iniciais SEM API
        function loadInitialPlaylists() {
            const philosophyContainer = document.getElementById('philosophy-playlist');
            const featuredContainer = document.getElementById('featured-philosophers');
            
            // Limpar containers
            philosophyContainer.innerHTML = '';
            featuredContainer.innerHTML = '';
            
            // ‚úÖ Adicionar v√≠deos que funcionam
            workingVideoIds.forEach((videoId, index) => {
                const title = videoTitles[index] || `Video Filos√≥fico ${index + 1}`;
                
                // Para playlist de filosofia
                const philosophyItem = createVideoItem(title, videoId);
                philosophyContainer.appendChild(philosophyItem);
                
                // Para fil√≥sofos em destaque (apenas alguns)
                if (index < 3) {
                    const featuredItem = createVideoItem(title, videoId);
                    featuredContainer.appendChild(featuredItem.cloneNode(true));
                }
            });
        }
        
        // ‚úÖ Criar item de v√≠deo
        function createVideoItem(title, videoId) {
            const videoItem = document.createElement('div');
            videoItem.className = 'carousel-item';
            videoItem.onclick = () => showTrailer(title, videoId);
            
            videoItem.innerHTML = `
                <img src="https://i.ytimg.com/vi/${videoId}/mqdefault.jpg" alt="${title}">
                <div class="carousel-item-info">
                    <div class="carousel-item-title">${title}</div>
                    <div class="carousel-item-meta">
                        <span>Filosofia</span>
                    </div>
                </div>
            `;
            
            return videoItem;
        }
        
        // ‚úÖ Mostrar trailer - abordagem simplificada
        function showTrailer(title, videoId) {
            const modal = document.getElementById('videoModal');
            const frame = document.getElementById('videoFrame');
            const modalTitle = document.getElementById('modalTitle');
            
            currentVideoId = videoId;
            currentVideoTitle = title;
            
            modalTitle.textContent = title;
            
            // ‚úÖ Tentar carregar o v√≠deo diretamente
            frame.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
            
            modal.classList.add('active');
        }
        
        // ‚úÖ Fechar modal
        function closeModal() {
            const modal = document.getElementById('videoModal');
            const frame = document.getElementById('videoFrame');
            
            modal.classList.remove('active');
            frame.src = '';
            document.getElementById('errorMessage').style.display = 'none';
        }
        
        // ‚úÖ Buscar conte√∫do SEM API KEY (busca simplificada)
        function searchYouTube() {
            const query = document.getElementById('youtube-search').value.trim();
            if (!query) return;
            
            showError('Funcionalidade de busca requer chave API do YouTube. Use a op√ß√£o de playlist.');
        }
        
        // ‚úÖ Carregar playlist personalizada
        function loadPlaylist() {
            const playlistText = document.getElementById('playlist-urls').value.trim();
            if (!playlistText) return;
            
            // Extrair IDs de v√≠deo do texto
            const lines = playlistText.split('\n');
            const videoIds = [];
            const titles = [];
            
            lines.forEach(line => {
                line = line.trim();
                if (!line) return;
                
                let videoId = null;
                let title = "Video Personalizado";
                
                // Extrair ID de URLs do YouTube
                if (line.includes('youtube.com/watch?v=')) {
                    videoId = line.split('v=')[1];
                    const ampersandPosition = videoId.indexOf('&');
                    if (ampersandPosition !== -1) {
                        videoId = videoId.substring(0, ampersandPosition);
                    }
                    
                    // Tentar extrair t√≠tulo do par√¢metro t
                    const titleParam = line.match(/[?&]t=([^&]*)/);
                    if (titleParam) {
                        title = decodeURIComponent(titleParam[1]);
                    }
                } 
                else if (line.includes('youtu.be/')) {
                    videoId = line.split('youtu.be/')[1];
                    const questionMarkPosition = videoId.indexOf('?');
                    if (questionMarkPosition !== -1) {
                        videoId = videoId.substring(0, questionMarkPosition);
                    }
                } 
                else if (line.length === 11) {
                    videoId = line;
                }
                
                if (videoId && videoId.length === 11) {
                    videoIds.push(videoId);
                    titles.push(title);
                }
            });
            
            if (videoIds.length === 0) {
                showError('Nenhum ID de v√≠deo v√°lido encontrado.');
                return;
            }
            
            const resultsContainer = document.getElementById('playlist-results');
            resultsContainer.innerHTML = '';
            
            // Mostrar a se√ß√£o de playlist
            document.getElementById('playlist-results-row').style.display = 'block';
            document.getElementById('search-results-row').style.display = 'none';
            
            // Adicionar v√≠deos √† playlist
            videoIds.forEach((videoId, index) => {
                const title = titles[index] || `Video ${index + 1}`;
                const videoItem = createVideoItem(title, videoId);
                resultsContainer.appendChild(videoItem);
            });
        }
        
        // ‚úÖ Mostrar mensagem de erro
        function showError(message) {
            const errorElement = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            
            errorText.textContent = message;
            errorElement.style.display = 'block';
            
            setTimeout(() => {
                errorElement.style.display = 'none';
            }, 5000);
        }
    </script>
</body>
</html>
